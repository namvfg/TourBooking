 <!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Dịch vụ</title>
    <th:block th:replace="base :: resource"></th:block>
    <th:block th:replace="fragments/table_sidebar :: resource"></th:block>
</head>
<body>
    <div th:replace="base :: header"></div>
    <div class="admin-wrapper">
        <div th:replace="fragments/table_sidebar :: tableSidebar"></div>
        <div class="main-content">
            <h2>Danh sách dịch vụ</h2>
            <div class="table-responsive">
                <table class="table table-striped table-bordered align-middle">
                    <thead class="table-dark">
                        <tr>
                            <th>#</th>
                            <th>Mã DV</th>
                            <th>Nhà cung cấp</th>
                            <th>Tên dịch vụ</th>
                            <th>Hình ảnh</th>
                            <th>Giá</th>
                            <th>Slot</th>
                            <th>Địa chỉ</th>
                            <th>Loại dịch vụ</th>
                            <th>Ngày tạo</th>
                            <th>Ngày cập nhật</th>
                            <th>Thao tác</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="svc, iStat : ${services}">
                            <td th:text="${iStat.index + 1}"></td>
                            <td th:text="${svc.id}"></td>
                            <td th:text="${svc.serviceProviderId.companyName}"></td>
                            <td th:text="${svc.name}"></td>
                            <td>
                                <img th:src="${svc.image}" alt="ảnh" width="60" height="40"/>
                            </td>
                            <td th:text="${#numbers.formatDecimal(svc.price, 0, 'COMMA', 2, 'POINT')}"></td>
                            <td th:text="${svc.availableSlot}"></td>
                            <td th:text="${svc.address}"></td>
                            <td th:text="${svc.serviceType}"></td>
                            <td th:text="${#dates.format(svc.createdDate, 'dd/MM/yyyy HH:mm')}"></td>
                            <td th:text="${#dates.format(svc.updatedDate, 'dd/MM/yyyy HH:mm')}"></td>
                            <td>
                                <a th:href="@{'/service/update/' + ${svc.id}}" class="btn btn-warning btn-sm" title="Cập nhật">
                                    <i class="bi bi-pencil-square"></i>
                                </a>
                                <a th:href="@{'/service/delete/' + ${svc.id}}" class="btn btn-danger btn-sm"
                                   title="Xóa" onclick="return confirm('Bạn có chắc chắn muốn xóa dịch vụ này không?');">
                                    <i class="bi bi-trash"></i>
                                </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div th:replace="base :: footer"></div>
</body>
</html>